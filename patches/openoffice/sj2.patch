Index: source/jscpp/sjapplet_impl.cxx
===================================================================
RCS file: /cvs/oi/sj2/source/jscpp/sjapplet_impl.cxx,v
retrieving revision 1.27
diff -u -r1.27 sjapplet_impl.cxx
--- source/jscpp/sjapplet_impl.cxx	19 Jun 2006 10:38:55 -0000	1.27
+++ source/jscpp/sjapplet_impl.cxx	21 Nov 2006 18:03:38 -0000
@@ -114,7 +114,7 @@
 #endif
 
 #ifdef SOLAR_JAVA
-#ifdef UNX
+#if defined UNX && !defined MACOSX
 struct EmbeddedWindow {
 	jobject _joWindow;
 
@@ -215,7 +215,7 @@
 {
 jclass jcFrame = pEnv->FindClass("java/awt/Frame");                     testJavaException(pEnv);
 jmethodID jmFrame_rinit = pEnv->GetMethodID(jcFrame, "<init>", "()V");  testJavaException(pEnv);
-joFrame = pEnv->AllocObject(jcFrame);                                   testJavaException(pEnv);
+jobject joFrame = pEnv->AllocObject(jcFrame);                                   testJavaException(pEnv);
 pEnv->CallVoidMethod(joFrame, jmFrame_rinit);                           testJavaException(pEnv);
 
 _joWindow = pEnv->NewGlobalRef(joFrame);
