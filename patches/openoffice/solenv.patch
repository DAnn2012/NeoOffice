--- inc/unxmacx.mk	2011-02-01 08:54:38.000000000 -0800
+++ inc/unxmacx.mk	2011-02-01 18:40:49.000000000 -0800
@@ -51,9 +51,12 @@
 .IF "$(GUIBASE)"=="unx" && "$(USE_SYSTEM_STL)"!="YES"
 CDEFS+=-DX_LOCALE
 .ENDIF
-.IF "$(GUIBASE)"=="aqua"
+.IF "$(GUIBASE)"=="aqua" || "$(GUIBASE)"=="java"
 # TODO: use MACOSX_DEPLOYMENT_TARGET instead of MAC_OS_X_VERSION_MIN_REQUIRED?
-CDEFS+=-DQUARTZ -DMAC_OS_X_VERSION_MIN_REQUIRED=1040
+CDEFS+=-DQUARTZ -DMAC_OS_X_VERSION_MIN_REQUIRED=1050
+.ENDIF
+.IF "$(GUIBASE)"=="java"
+CDEFS+=-DUSE_JAVA
 .ENDIF
 
 # Name of library where static data members are initialized
@@ -259,11 +262,11 @@
 STDOBJCUI=
 STDSLOCUI=
 
-.IF "$(GUIBASE)" == "aqua"
+.IF "$(GUIBASE)" == "aqua" || "$(GUIBASE)" == "java"
 	STDLIBCUIMT=CPPRUNTIME -lm
-	STDLIBGUIMT=-framework Carbon -framework Cocoa -lpthread CPPRUNTIME -lm
+	STDLIBGUIMT=-framework AppKit -lpthread CPPRUNTIME -lm
 	STDSHLCUIMT=-lpthread CPPRUNTIME -lm
-	STDSHLGUIMT=-framework Carbon -framework CoreFoundation -framework Cocoa -lpthread CPPRUNTIME -lm
+	STDSHLGUIMT=-framework AppKit -lpthread CPPRUNTIME -lm
 	PSPLIB=-lpsp
 .ELSE
 	STDLIBCUIMT= CPPRUNTIME -lm
