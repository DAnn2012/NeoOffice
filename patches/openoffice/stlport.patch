Index: STLport-4.5-macxp-panther.patch
===================================================================
RCS file: /cvs/external/stlport/STLport-4.5-macxp-panther.patch,v
retrieving revision 1.7
diff -u -r1.7 STLport-4.5-macxp-panther.patch
--- STLport-4.5-macxp-panther.patch	17 Oct 2005 14:22:46 -0000	1.7
+++ STLport-4.5-macxp-panther.patch	27 Dec 2005 22:00:01 -0000
@@ -1,3 +1,17 @@
+--- misc/STLport-4.5/stlport/stdarg.h	2001-01-27 02:39:59.000000000 +0100
++++ misc/build/STLport-4.5/stlport/stdarg.h	2005-05-01 19:37:22.000000000 +0200
+@@ -20,7 +20,11 @@
+ #  define _STLP_DONT_POP_0x261
+ # endif
+ 
++#if defined(__GNUC__) && defined(__APPLE__) && (BUILD_OS_MAJOR >= 10) && (BUILD_OS_MINOR >= 4)
++#  include _STLP_NATIVE_HEADER(../stdarg.h)
++#else
+ # include _STLP_NATIVE_C_HEADER(stdarg.h)
++#endif
+ 
+ # if (_STLP_OUTERMOST_HEADER_ID == 0x261)
+ #  if ! defined (_STLP_DONT_POP_0x261)
 --- misc/STLport-4.5/stlport/stl/c_locale.h	2001-05-31 05:24:41.000000000 +0200
 +++ misc/build/STLport-4.5/stlport/stl/c_locale.h	2005-05-01 23:19:20.000000000 +0200
 @@ -290,16 +290,28 @@
@@ -346,7 +360,7 @@
   
   
   # if defined(__BEOS__) && defined(__INTEL__)
---- 99,125 ----
+--- 99,121 ----
   #  define _STLP_NATIVE_CPP_C_HEADER(header) <../g++/##header##>
   #  define _STLP_NATIVE_OLD_STREAMS_HEADER(header) <../g++/##header##>
   #  define _STLP_NATIVE_CPP_RUNTIME_HEADER(header) <../g++/##header##>
@@ -358,10 +372,6 @@
 ! #   define _STLP_WEAK_ATTRIBUTE 1
 ! #   undef _STLP_NO_LONG_DOUBLE
 ! 
-! #if __GNUC__ > 3
-! # undef _STLP_NO_MEMBER_TEMPLATE_KEYWORD
-! #endif
-! 
 ! #if 0
 !  /* Mac OS X needs all "::" scope references to be "std::" */
 !  #  define _STLP_NO_CSTD_FUNCTION_IMPORTS
@@ -384,7 +394,7 @@
   
   # elif (__GNUC_MINOR__ < 8)
   
---- 248,258 ----
+--- 244,254 ----
   
   # if (__GNUC__ >= 3)
   
