--- patches/dev300/cws-ooxml03-opc-svx-and-ptt-split.diff	2010-02-10 11:55:44.000000000 -0800
+++ patches/dev300/cws-ooxml03-opc-svx-and-ptt-split.diff	2010-02-11 17:44:10.000000000 -0800
@@ -715,7 +715,7 @@
 --- oox/prj/build.lst
 +++ oox/prj/build.lst
 @@ -1,4 +1,4 @@
--oox	oox : vos cppu cppuhelper comphelper sal offapi sax basegfx tools unotools BOOST:boost NULL
+-oox	oox : vos cppu cppuhelper comphelper sal offapi sax basegfx tools BOOST:boost NULL
 +oox	oox : vos cppu cppuhelper comphelper sal offapi sax basegfx svx tools unotools vcl BOOST:boost NULL
  oox	oox				usr1	-   all	oox_mkout NULL
  oox	oox\prj				get	-   all	oox_prj NULL
@@ -2446,7 +2446,7 @@
 +.INCLUDE :  target.mk
 +
 +$(MISC)$/vmlexport-shape-types.cxx : preset-definitions-to-shape-types.pl presetShapeDefinitions.xml presetTextWarpDefinitions.xml
-+	$(PERL) $< > $@.in_progress 2> $(MISC)$/vmlexport-shape-types.log && mv $@.in_progress $@
++	sh -c '$(PERL) $< > $@.in_progress 2> $(MISC)$/vmlexport-shape-types.log && mv $@.in_progress $@'
 diff --git oox/source/export/preset-definitions-to-shape-types.pl oox/source/export/preset-definitions-to-shape-types.pl
 new file mode 100644
 index 0000000..1608f8c
